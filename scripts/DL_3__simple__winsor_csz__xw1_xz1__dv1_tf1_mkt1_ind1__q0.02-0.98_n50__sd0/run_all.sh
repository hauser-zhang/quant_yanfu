#!/usr/bin/env bash
set -euo pipefail
python -m src.features.build_features --data_root /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/data/project_5year --n_workers 16 --run_name DL_3__simple__winsor_csz__xw1_xz1__dv1_tf1_mkt1_ind1__q0.02-0.98_n50__sd0 |& tee -a /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/res/experiments/DL_3__simple__winsor_csz__xw1_xz1__dv1_tf1_mkt1_ind1__q0.02-0.98_n50__sd0/log.txt
python -m src.train.run_experiment --data_root /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/data/project_5year --run_name DL_3__simple__winsor_csz__xw1_xz1__dv1_tf1_mkt1_ind1__q0.02-0.98_n50__sd0 --split_mode simple --models torch_cnn,torch_rnn  --use_feat --gpu_id 3 --parallel_models 1 --parallel_grid 2 --grid_seed 42 --n_jobs 16 --data_workers 16 --preprocess_workers 8 --label_mode winsor_csz --param_grid /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/scripts/DL_3__simple__winsor_csz__xw1_xz1__dv1_tf1_mkt1_ind1__q0.02-0.98_n50__sd0/param_grid.json --x_winsorize_by_date --x_zscore_by_date --q_low 0.02 --q_high 0.98 --min_n 50 --eps 1e-12 --dv_log1p --add_time_features --add_market_state_features --add_industry_state_features --debug_n_rows 2000 --debug_n_features 60 --postprocess_pipeline none --debug |& tee -a /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/res/experiments/DL_3__simple__winsor_csz__xw1_xz1__dv1_tf1_mkt1_ind1__q0.02-0.98_n50__sd0/log.txt
