#!/usr/bin/env bash
set -euo pipefail
python -m src.features.build_features --data_root /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/data/project_5year --n_workers 16 --run_name complete_run__simple__winsor_csz__xw1_xz1__q0.02-0.98_n50__sd20 |& tee -a /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/res/experiments/complete_run__simple__winsor_csz__xw1_xz1__q0.02-0.98_n50__sd20/log.txt
python -m src.train.run_experiment --data_root /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/data/project_5year --run_name complete_run__simple__winsor_csz__xw1_xz1__q0.02-0.98_n50__sd20 --split_mode simple --models torch_mlp,torch_cnn,torch_rnn  --use_feat --gpu_id 3 --sample_days_per_year 20 --parallel_models 1 --parallel_grid 2 --grid_seed 42 --n_jobs 16 --data_workers 16 --label_mode winsor_csz --param_grid /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/scripts/complete_run__simple__winsor_csz__xw1_xz1__q0.02-0.98_n50__sd20/param_grid.json --x_winsorize_by_date --x_zscore_by_date --q_low 0.02 --q_high 0.98 --min_n 50 --eps 1e-12 --postprocess_pipeline none --debug |& tee -a /data1/hyzhang/Projects/intreviews_2026/quant_yanfu/res/experiments/complete_run__simple__winsor_csz__xw1_xz1__q0.02-0.98_n50__sd20/log.txt
